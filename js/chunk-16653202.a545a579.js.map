{"version":3,"sources":["webpack:///./src/components/Sword.vue?1df4","webpack:///src/components/Sword.vue","webpack:///./src/components/Sword.vue?ced8","webpack:///./src/components/Sword.vue","webpack:///./src/components/NumInput.vue?d88f","webpack:///src/components/NumInput.vue","webpack:///./src/components/NumInput.vue?eb55","webpack:///./src/components/NumInput.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","role","_m","_l","item","index","key","id","staticStyle","border","border-radius","font-size","_v","_s","title","description","_f","price","ik","on","numchange","nchange","click","$event","addtoCart","num","staticRenderFns","width","Swordvue_type_script_lang_js_","data","products","methods","getProducts","vm","api","concat","$store","dispatch","$http","get","then","response","filter","category","i","length","qty","count","pnum","pindex","created","components","NumInput","components_Swordvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","directives","name","rawName","value","expression","type","domProps","change","input","target","composing","NumInputvue_type_script_lang_js_","ikk","$emit","props","Number","components_NumInputvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-16653202.a545a579.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"col-md-9 ml-sm-auto col-lg-10 px-4\",attrs:{\"role\":\"main\"}},[_c('table',{staticClass:\"table mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.products),function(item,index){return _c('tr',{key:item.id,staticStyle:{\"border\":\"3px #AAAAAA ridge\",\"border-radius\":\"10px\",\"font-size\":\"24px\"}},[_c('td',[_vm._v(_vm._s(item.title))]),_c('td',[_vm._v(_vm._s(item.description))]),_c('td',[_vm._v(_vm._s(_vm._f(\"currency\")(item.price)))]),_c('td',[_c('NumInput',{attrs:{\"ik\":index},on:{\"numchange\":_vm.nchange}})],1),_c('td',[_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",on:{\"click\":function($event){return _vm.addtoCart(item.id,item.num,item.title)}}},[_vm._v(\"加到購物車\")])])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',{staticStyle:{\"border\":\"3px #AAAAAA ridge\",\"border-radius\":\"10px\",\"font-size\":\"24px\"}},[_c('th',[_vm._v(\"產品名稱\")]),_c('th',[_vm._v(\"產品說明\")]),_c('th',[_vm._v(\"售價\")]),_c('th',[_vm._v(\"數量\")]),_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\"購買\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n        <main role=\"main\" class=\"col-md-9 ml-sm-auto col-lg-10 px-4\">\r\n          <!-- <loading :active.sync=\"isLoading\"></loading> -->\r\n    <!-- 產品列表 -->\r\n    <table class=\"table mt-4\">\r\n      <thead>\r\n        <tr style=\"border:3px #AAAAAA ridge;border-radius:10px;font-size:24px;\">\r\n          <th>產品名稱</th>\r\n          <th>產品說明</th>\r\n          <th>售價</th>\r\n          <th>數量</th>\r\n          <th width=\"120\">購買</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(item, index) in products\" :key=\"item.id\" style=\"border:3px #AAAAAA ridge;border-radius:10px;font-size:24px;\">\r\n          <td>{{ item.title }}</td>\r\n          <td>{{ item.description }}</td>\r\n          <td>{{ item.price | currency }}</td>\r\n          <td><NumInput @numchange=\"nchange\" :ik=\"index\"></NumInput></td>\r\n          <td>\r\n            <button class=\"btn btn-outline-primary btn-sm\" @click=\"addtoCart(item.id,item.num,item.title)\">加到購物車</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n        </main>\r\n</template>\r\n\r\n<script>\r\nimport NumInput from './NumInput.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: []\r\n      // isLoading: false,\r\n    }\r\n  },\r\n  methods: {\r\n    getProducts () {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/products/all`\r\n      vm.$store.dispatch('updateLoading', true)\r\n      this.$http.get(api).then(response => {\r\n        vm.products = response.data.products.filter(item => {\r\n          if (item.category === '劍') {\r\n            return true\r\n          }\r\n        })\r\n        for (let i = vm.products.length - 1; i >= 0; i--) {\r\n          vm.products[i].num = '1'\r\n        }\r\n        vm.$store.dispatch('updateLoading', false)\r\n      })\r\n    },\r\n    addtoCart (id, qty, title) {\r\n      this.$store.dispatch('cartModules/addtoCart', { id, qty, title })\r\n      // this.$store.dispatch('addtoCart', { id, qty })\r\n      // this.$bus.$emit('messsage:push', title + qty + '個已加到購物車中', 'success')\r\n      // const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/cart`\r\n      // const cart = {\r\n      //   product_id: id,\r\n      //   qty\r\n      // }\r\n      // // console.log(cart)\r\n      // this.$http.post(url, { data: cart }).then(response => {\r\n      //   this.$bus.$emit('messsage:push', title + qty + '個已加到購物車中', 'success')\r\n      //   console.log(response)\r\n      // })\r\n    },\r\n    nchange (count) {\r\n      const vm = this\r\n      const pnum = count[0]\r\n      const pindex = count[1]\r\n      vm.products[pindex].num = pnum\r\n      // console.log(pnum, pindex)\r\n    }\r\n  },\r\n  created () {\r\n    const vm = this\r\n    vm.getProducts()\r\n  },\r\n  components: {\r\n    NumInput\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sword.vue?vue&type=template&id=3602bb4c&\"\nimport script from \"./Sword.vue?vue&type=script&lang=js&\"\nexport * from \"./Sword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.count),expression:\"count\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.count)},on:{\"change\":function($event){return _vm.numchange(_vm.count)},\"input\":function($event){if($event.target.composing){ return; }_vm.count=$event.target.value}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <input type=\"number\" v-model=\"count\" @change=\"numchange(count)\">\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: function () {\r\n    return {\r\n      count: 1\r\n    }\r\n  },\r\n  methods: {\r\n    numchange (count) {\r\n      const vm = this\r\n      const ikk = vm.ik\r\n      this.$emit('numchange', [ count, ikk ])\r\n    }\r\n  },\r\n  props: {\r\n    ik: {\r\n      type: Number\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NumInput.vue?vue&type=template&id=6ddb8cd8&\"\nimport script from \"./NumInput.vue?vue&type=script&lang=js&\"\nexport * from \"./NumInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}