{"version":3,"sources":["webpack:///./src/components/NumInput.vue?d88f","webpack:///src/components/NumInput.vue","webpack:///./src/components/NumInput.vue?eb55","webpack:///./src/components/NumInput.vue","webpack:///./src/components/Prop.vue?8ced","webpack:///src/components/Prop.vue","webpack:///./src/components/Prop.vue?23f1","webpack:///./src/components/Prop.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","type","domProps","on","change","$event","numchange","count","input","target","composing","staticRenderFns","NumInputvue_type_script_lang_js_","data","methods","vm","ikk","ik","$emit","props","Number","components_NumInputvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","staticClass","role","_m","_l","item","index","key","id","staticStyle","border","border-radius","font-size","_v","_s","title","description","_f","price","nchange","click","addtoCart","num","width","Propvue_type_script_lang_js_","products","getProducts","api","concat","$store","dispatch","$http","get","then","response","filter","category","i","length","qty","pnum","pindex","created","components","NumInput","components_Propvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-167ae816.a814c137.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.count),expression:\"count\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.count)},on:{\"change\":function($event){return _vm.numchange(_vm.count)},\"input\":function($event){if($event.target.composing){ return; }_vm.count=$event.target.value}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <input type=\"number\" v-model=\"count\" @change=\"numchange(count)\">\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: function () {\r\n    return {\r\n      count: 1\r\n    }\r\n  },\r\n  methods: {\r\n    numchange (count) {\r\n      const vm = this\r\n      const ikk = vm.ik\r\n      this.$emit('numchange', [ count, ikk ])\r\n    }\r\n  },\r\n  props: {\r\n    ik: {\r\n      type: Number\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NumInput.vue?vue&type=template&id=6ddb8cd8&\"\nimport script from \"./NumInput.vue?vue&type=script&lang=js&\"\nexport * from \"./NumInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"col-md-9 ml-sm-auto col-lg-10 px-4\",attrs:{\"role\":\"main\"}},[_c('table',{staticClass:\"table mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.products),function(item,index){return _c('tr',{key:item.id,staticStyle:{\"border\":\"3px #AAAAAA ridge\",\"border-radius\":\"10px\",\"font-size\":\"24px\"}},[_c('td',[_vm._v(_vm._s(item.title))]),_c('td',[_vm._v(_vm._s(item.description))]),_c('td',[_vm._v(_vm._s(_vm._f(\"currency\")(item.price)))]),_c('td',[_c('NumInput',{attrs:{\"ik\":index},on:{\"numchange\":_vm.nchange}})],1),_c('td',[_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",on:{\"click\":function($event){return _vm.addtoCart(item.id,item.num,item.title)}}},[_vm._v(\"加到購物車\")])])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',{staticStyle:{\"border\":\"3px #AAAAAA ridge\",\"border-radius\":\"10px\",\"font-size\":\"24px\"}},[_c('th',[_vm._v(\"產品名稱\")]),_c('th',[_vm._v(\"產品說明\")]),_c('th',[_vm._v(\"售價\")]),_c('th',[_vm._v(\"數量\")]),_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\"購買\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n        <main role=\"main\" class=\"col-md-9 ml-sm-auto col-lg-10 px-4\">\r\n          <!-- <loading :active.sync=\"isLoading\"></loading> -->\r\n    <!-- 產品列表 -->\r\n    <table class=\"table mt-4\">\r\n      <thead>\r\n        <tr style=\"border:3px #AAAAAA ridge;border-radius:10px;font-size:24px;\">\r\n          <th>產品名稱</th>\r\n          <th>產品說明</th>\r\n          <th>售價</th>\r\n          <th>數量</th>\r\n          <th width=\"120\">購買</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(item, index) in products\" :key=\"item.id\" style=\"border:3px #AAAAAA ridge;border-radius:10px;font-size:24px;\">\r\n          <td>{{ item.title }}</td>\r\n          <td>{{ item.description }}</td>\r\n          <td>{{ item.price | currency }}</td>\r\n          <td><NumInput @numchange=\"nchange\" :ik=\"index\"></NumInput></td>\r\n          <td>\r\n            <button class=\"btn btn-outline-primary btn-sm\" @click=\"addtoCart(item.id,item.num,item.title)\">加到購物車</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n        </main>\r\n</template>\r\n\r\n<script>\r\nimport NumInput from './NumInput.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: []\r\n      // isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    getProducts () {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/products/all`\r\n      vm.$store.dispatch('updateLoading', true)\r\n      this.$http.get(api).then(response => {\r\n        vm.products = response.data.products.filter(item => {\r\n          if (item.category === '道具') {\r\n            return true\r\n          }\r\n        })\r\n        for (let i = vm.products.length - 1; i >= 0; i--) {\r\n          vm.products[i].num = '1'\r\n        }\r\n        vm.$store.dispatch('updateLoading', false)\r\n      })\r\n    },\r\n    addtoCart (id, qty, title) {\r\n      this.$store.dispatch('cartModules/addtoCart', { id, qty, title })\r\n      // const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/cart`\r\n      // const cart = {\r\n      //   product_id: id,\r\n      //   qty\r\n      // }\r\n      // // console.log(cart)\r\n      // this.$http.post(url, { data: cart }).then(response => {\r\n      //   this.$bus.$emit('messsage:push', title + qty + '個已加到購物車中', 'success')\r\n      //   console.log(response)\r\n      // })\r\n    },\r\n    nchange (count) {\r\n      const vm = this\r\n      const pnum = count[0]\r\n      const pindex = count[1]\r\n      vm.products[pindex].num = pnum\r\n      // console.log(pnum, pindex)\r\n    }\r\n  },\r\n  created () {\r\n    const vm = this\r\n    vm.getProducts()\r\n  },\r\n  components: {\r\n    NumInput\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Prop.vue?vue&type=template&id=f6693368&\"\nimport script from \"./Prop.vue?vue&type=script&lang=js&\"\nexport * from \"./Prop.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}